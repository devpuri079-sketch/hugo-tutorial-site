---
weight: 2
---

## Hugoによるサイト作成手順

### この手順の目的

この手順では、Hugo を使ってローカル環境にブログサイトを構築し、
テーマの導入、記事の作成、画像の表示方法までを一通り体験できるようにします。

最終的に以下ができるようになります。
- Hugo プロジェクトの作成
- テーマ（ananke）の導入
- ローカルサーバーでのプレビュー
- 記事の追加とドラフト管理
- 画像の表示方法（static / PageBundle）

### 作成手順

1. Hugo プロジェクトを作成する  
    ターミナルを開き任意のフォルダで以下コマンドを実行  
    プロジェクトフォルダと設定ファイルが作成される  
    ```bash
    hugo new site my-hugo-site
    ```

2. 作成されたフォルダを VS Code などで開く  
    archetypes 以外の各フォルダの中身は空なので、1 のコマンドを使わないで既存のプロジェクトをコピーしたり、同じようにフォルダを手動で作成しても OK  
    ![プロジェクト画面](image1.png)

3. `git init` を実行（以降のコマンドは作成したプロジェクトフォルダに移動した状態で実行すること）  
    ![git init](image2.png)  
    このプロジェクトを Git 管理にすることで、4の手順で行う テーマのダウンロードが可能となりなる。  
    また、将来的に GitHub へ push して公開する為にも必要となる。

4. テーマを git を使用してダウンロードする  
    サイトのテーマをダウンロードする。種類はたくさんあるが、練習として公式チュートリアルで使用している ananke をダウンロードする  
    ```bash
    git submodule add https://github.com/theNewDynamic/gohugo-theme-ananke.git themes/ananke
    ```

5. `hugo.toml` にダウンロードしたテーマを記載する  
    `theme = 'ananke'`  
    ![テーマ設定](image3.png)

6. ローカルでビルドしてサーバを起動する  
    ```bash
    hugo server
    ```

7. ターミナルに出力されている URL を開く  
    デフォルトは http://localhost:1313/  
    Top ページが表示されていれば OK  
    ![Topページ](image4.png)

8. 記事を追加する  
    ```bash
    hugo new content/posts/my-first-post.md
    ```  
    以下のようにヘッダー部分だけのファイルが作成される  
    ![ファイル内容](image5.png)  
    ページコンテンツは content 内に配置するが、content 配下のフォルダ構成はテーマや用途によって異なる場合がある。  
    一般的には、ブログ記事は content/posts、技術メモなどのドキュメントは content/docs といった構成になる。

9. ファイルに適当に Markdown で文章を追記  
    ![ファイル内容編集](image6.png)

10. サーバーを -D（ドラフトモード）で起動  
    ```bash
    hugo server -D
    ```  
    記事が追加されているのが確認できる  
    ![ファイル内容編集](image7.png)

    > **ドラフトモードとは**  
    > draft が true の記事（下書き状態）も表示される  
    > draft を false にするか削除すれば通常の `hugo server` でも表示される  
    > 最初は draft が true のまま忘れがちなので、不要であれば消しておくとよい  
    > （1人で作業している場合は特にdraftの機能は不要）

---

11. 画像を表示する方法  
    画像表示には 2 種類ある  
    - static フォルダから参照する方法  
    - PageBundle（ページバンドル）方式  

    ### 〇 static フォルダから参照する方法  
    static フォルダに images フォルダを作成し、そこに画像ファイルを格納  
    md ファイル内で以下のように記載  
    ```
    ![代替えテキスト](/images/画像ファイル名)
    ```

    ![staticフォルダ](image8.png)

    ### 〇 PageBundle（ページバンドル）方式  
    記事と画像ファイルを一つのフォルダにまとめる  
    記事のファイル名は `index.md` に変更する  
    md ファイル内で以下のように記載  
    `![代替えテキスト](画像ファイル名)`

    ![ページバンドル](image9.png)

---

### 画像の表示状況（テーマ ananke の場合）

**Top ページ**  
![Top](image11.png)

**記事のページ**  
![Top](image10.png)

PageBundle は記事と画像を一まとめにできるので管理が楽だが、テーマによっては Top ページで表示できなかったりする。  
ananke はブログ向きのテーマなので Top ページにサムネイルを出すレイアウトになっており、static フォルダ方式の方が適している。  
ドキュメントページ用のテーマであれば Top ページにサムネイルを出すこともないので PageBundle でよい。  
テーマによってはどちらでもない方法もあるため、そのテーマの説明やサンプルサイトを参照することを推奨する。